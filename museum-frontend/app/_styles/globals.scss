// Foundation
@use 'foundation/palette' as *;
@use 'foundation/mixins' as *;
@use 'foundation/typography' as *;

// 導入所有 bootstrap 樣式
@use 'bootstrap/scss/bootstrap' as bootstrap;

// Vendors
@use 'vendors/bootstrap-override';

// Components
@use 'components/buttons';
@use 'components/alerts';



// google Noto Serif TC 字體
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;600;700&display=swap');

// Global styles
:root {
  --primary: #{$primary};
  --secondary: #{$secondary};
  --success: #{$success};
  --danger: #{$danger};
  --warning: #{$warning};
  --info: #{$info};
  --light: #{$light};
  --dark: #{$dark};
  --main-bg: #{$main-bg};
  --sub-bg: #{$sub-bg};
  --main-text: #{$main-text};
  --sub-text: #{$sub-text};
}

// 定義中文字體用
body {
  font-family: 'Noto Serif TC', 'Noto Serif TC Regular', Helvetica, Arial, 'PingFang TC',
    '苹方-繁', 'Heiti TC', '黑體-繁', 'Microsoft JhengHei', '微軟正黑體',
    system-ui,
    -apple-system,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    'Noto Sans',
    'Liberation Sans',
    sans-serif,
    'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  color: var(--main-text);
  line-height: 1.6;
  
  background-image: url(http://www.transparenttextures.com/patterns/asfalt-dark.png);
  background-color: $main-bg !important;


}

body, main { overflow-x: hidden; }

// 標題樣式
h1, h2, h3, h4, h5, h6 {
  font-family: 'Noto Serif TC', serif;
  color: $main-text;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 2.5rem; font-weight: 700; margin-top: 2rem; }
h2 { font-size: 2rem; font-weight: 600; margin-top: 1.75rem; }
h3 { font-size: 1.75rem; font-weight: 600; margin-top: 1.5rem; }
h4 { font-size: 1.5rem; font-weight: 500; margin-top: 1.25rem; }
h5 { font-size: 1.25rem; font-weight: 500; margin-top: 1rem; }
h6 { font-size: 1rem; font-weight: 500; margin-top: 1rem; }

// 段落樣式
p {
  font-size: 1rem;
  line-height: 1.8;
  margin-bottom: 1rem;
  color: $main-text;
  
  &.lead {
    font-size: 1.25rem;
    font-weight: 500;
    color: $sub-text;
  }
  
  &.small {
    font-size: 0.875rem;
    color: $sub-text;
  }
}

// 鏈接樣式 
a {
  font-family: $font-family-serif;
  color: $primary;
  text-decoration: none;

  
  &:hover,
  &:focus {
    color: darken($primary, 10%);
    // text-decoration: underline;
  }
}
// List styles
ul, ol {
  margin: 0;
  padding: 0;
  list-style: none;
}

// Custom scrollbar
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--light);
}

::-webkit-scrollbar-thumb {
  background: var(--secondary);
  border-radius: 4px;
  
  &:hover {
    background: darken($secondary, 10%);
  }
}

// Selection
::selection {
  background-color: var(--primary);
  color: white;
}

// Focus outline
:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

// Disabled elements
[disabled] {
  cursor: not-allowed;
  opacity: 0.65;
}







// ----------------------------------------------------------------------------
// 全域覆寫：讓所有 .btn-*, .btn-outline-* 套用你的設計色票
// ----------------------------------------------------------------------------

// PRIMARY
.btn-primary {
  --bs-btn-bg:               #{$primary} !important;
  --bs-btn-border-color:     #{$primary} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($primary, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($primary, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($primary, 15%)} !important;
  --bs-btn-active-border-color: #{darken($primary, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-secondary {
  --bs-btn-bg:               #{$secondary} !important;
  --bs-btn-border-color:     #{$secondary} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($secondary, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($secondary, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($secondary, 15%)} !important;
  --bs-btn-active-border-color: #{darken($secondary, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-success {
  --bs-btn-bg:               #{$success} !important;
  --bs-btn-border-color:     #{$success} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($success, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($success, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($success, 15%)} !important;
  --bs-btn-active-border-color: #{darken($success, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-danger {
  --bs-btn-bg:               #{$danger} !important;
  --bs-btn-border-color:     #{$danger} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($danger, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($danger, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($danger, 15%)} !important;
  --bs-btn-active-border-color: #{darken($danger, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-warning {
  --bs-btn-bg:               #{$warning} !important;
  --bs-btn-border-color:     #{$warning} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($warning, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($warning, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($warning, 15%)} !important;
  --bs-btn-active-border-color: #{darken($warning, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-info {
  --bs-btn-bg:               #{$info} !important;
  --bs-btn-border-color:     #{$info} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($info, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($info, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($info, 15%)} !important;
  --bs-btn-active-border-color: #{darken($info, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-light {
  --bs-btn-bg:               #{$light} !important;
  --bs-btn-border-color:     #{$light} !important;
  --bs-btn-color:            #{$main-text} !important;
  --bs-btn-hover-bg:         #{darken($light, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($light, 15%)} !important;
  --bs-btn-hover-color:      #{$main-text} !important;
  --bs-btn-active-bg:        #{darken($light, 15%)} !important;
  --bs-btn-active-border-color: #{darken($light, 15%)} !important;
  --bs-btn-active-color:     #{$main-text} !important;
}

.btn-dark {
  --bs-btn-bg:               #{$dark} !important;
  --bs-btn-border-color:     #{$dark} !important;
  --bs-btn-color:            #fff !important;
  --bs-btn-hover-bg:         #{darken($dark, 15%)} !important;
  --bs-btn-hover-border-color: #{darken($dark, 15%)} !important;
  --bs-btn-hover-color:      #fff !important;
  --bs-btn-active-bg:        #{darken($dark, 15%)} !important;
  --bs-btn-active-border-color: #{darken($dark, 15%)} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-close{
  --bs-btn-close-color: #{$primary} !important;
  --bs-btn-close-hover-color: #{$primary} !important;
  --bs-btn-close-active-color: #{$primary} !important;
  --bs-btn-close-focus-color: #{$primary} !important;
  --bs-btn-close-focus-shadow: 0 0 0 0.25rem rgba($primary, 0.25) !important;
  --bs-btn-close-opacity: 0.5 !important;
  --bs-btn-close-hover-opacity: 1 !important;
}

// ----------------------------------------------------------------------------
// Outline Buttons
// ----------------------------------------------------------------------------
.btn-outline-primary {
  --bs-btn-border-color:     #{$primary} !important;
  --bs-btn-color:            #{$primary} !important;
  --bs-btn-hover-bg:         rgba($primary, 0.1) !important;
  --bs-btn-hover-border-color: #{$primary} !important;
  --bs-btn-hover-color:      #{$primary} !important;
  --bs-btn-active-bg:        #{$primary} !important;
  --bs-btn-active-border-color: #{$primary} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-secondary {
  --bs-btn-border-color:     #{$secondary} !important;
  --bs-btn-color:            #{$secondary} !important;
  --bs-btn-hover-bg:         rgba($secondary, 0.1) !important;
  --bs-btn-hover-border-color: #{$secondary} !important;
  --bs-btn-hover-color:      #{$secondary} !important;
  --bs-btn-active-bg:        #{$secondary} !important;
  --bs-btn-active-border-color: #{$secondary} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-success {
  --bs-btn-border-color:     #{$success} !important;
  --bs-btn-color:            #{$success} !important;
  --bs-btn-hover-bg:         rgba($success, 0.1) !important;
  --bs-btn-hover-border-color: #{$success} !important;
  --bs-btn-hover-color:      #{$success} !important;
  --bs-btn-active-bg:        #{$success} !important;
  --bs-btn-active-border-color: #{$success} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-danger {
  --bs-btn-border-color:     #{$danger} !important;
  --bs-btn-color:            #{$danger} !important;
  --bs-btn-hover-bg:         rgba($danger, 0.1) !important;
  --bs-btn-hover-border-color: #{$danger} !important;
  --bs-btn-hover-color:      #{$danger} !important;
  --bs-btn-active-bg:        #{$danger} !important;
  --bs-btn-active-border-color: #{$danger} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-warning {
  --bs-btn-border-color:     #{$warning} !important;
  --bs-btn-color:            #{$warning} !important;
  --bs-btn-hover-bg:         rgba($warning, 0.1) !important;
  --bs-btn-hover-border-color: #{$warning} !important;
  --bs-btn-hover-color:      #{$warning} !important;
  --bs-btn-active-bg:        #{$warning} !important;
  --bs-btn-active-border-color: #{$warning} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-info {
  --bs-btn-border-color:     #{$info} !important;
  --bs-btn-color:            #{$info} !important;
  --bs-btn-hover-bg:         rgba($info, 0.1) !important;
  --bs-btn-hover-border-color: #{$info} !important;
  --bs-btn-hover-color:      #{$info} !important;
  --bs-btn-active-bg:        #{$info} !important;
  --bs-btn-active-border-color: #{$info} !important;
  --bs-btn-active-color:     #fff !important;
}

.btn-outline-light {
  --bs-btn-border-color:     #{$light} !important;
  --bs-btn-color:            #{$light} !important;
  --bs-btn-hover-bg:         rgba($light, 0.1) !important;
  --bs-btn-hover-border-color: #{$light} !important;
  --bs-btn-hover-color:      #{$light} !important;
  --bs-btn-active-bg:        #{$light} !important;
  --bs-btn-active-border-color: #{$light} !important;
  --bs-btn-active-color:     #{$main-text} !important;
}

.btn-outline-dark {
  --bs-btn-border-color:     #{$dark} !important;
  --bs-btn-color:            #{$dark} !important;
  --bs-btn-hover-bg:         rgba($dark, 0.1) !important;
  --bs-btn-hover-border-color: #{$dark} !important;
  --bs-btn-hover-color:      #{$dark} !important;
  --bs-btn-active-bg:        #{$dark} !important;
  --bs-btn-active-border-color: #{$dark} !important;
  --bs-btn-active-color:     #fff !important;
}

// ----------------------------------------------------------------------------
// Link Buttons
// ----------------------------------------------------------------------------
.btn-link {
  --bs-btn-color:            #{$primary} !important;
  --bs-btn-hover-color:      #{darken($primary, 10%)} !important;
  --bs-btn-active-color:     #{darken($primary, 10%)} !important;
}


// ----------------------------------------------------------------------------
// Form Controls
// ----------------------------------------------------------------------------
.form-control {
  --bs-form-control-bg: #{$light} !important;
  --bs-form-control-color: #{$main-text} !important;
  --bs-form-control-placeholder-color: #{$sub-text} !important;
  --bs-form-control-border-color: #{$light} !important;
  --bs-form-control-focus-bg: #{$light} !important;
}

.form-control:focus {
  --bs-form-control-bg: #{$light} !important;
  --bs-form-control-color: #{$main-text} !important;
  --bs-form-control-placeholder-color: #{$sub-text} !important;
  --bs-form-control-border-color: #{$light} !important;
  --bs-form-control-focus-bg: #{$light} !important;
}

.form-control:focus-visible {
  outline: none;
  --bs-form-control-bg: #{$light} !important;
  --bs-form-control-color: #{$main-text} !important;
  --bs-form-control-placeholder-color: #{$sub-text} !important;
  --bs-form-control-border-color: #{$light} !important;
  --bs-form-control-focus-bg: #{$light} !important;
}

.form-select {
  --bs-form-select-bg: #{$light} !important;
  --bs-form-select-color: #{$main-text} !important;
  --bs-form-select-placeholder-color: #{$sub-text} !important;
  --bs-form-select-border-color: #{$light} !important;
  --bs-form-select-focus-bg: #{$light} !important;
}


.form-check-input {
  --bs-form-check-input-bg: #{$light} !important;
  --bs-form-check-input-border-color: #{$light} !important;
  --bs-form-check-input-focus-bg: #{$light} !important;
}

.form-check-label {
  --bs-form-check-label-color: #{$main-text} !important;
}

.form-check-input:checked {
  --bs-form-check-input-bg: #{$primary} !important;
}

.form-check-input:focus {
  --bs-form-check-input-bg: #{$light} !important;
}

.form-check-input:focus-visible {
  --bs-form-check-input-bg: #{$light} !important;
}





// ---------- Modal
$modal-border-radius:           18px;
$modal-content-bg:              rgba(255, 253, 250, 0.7);
$modal-box-shadow:              0 8px 32px rgba(123,45,18,0.18), 0 2px 8px rgba(0,0,0,0.1);
$modal-border-color:            #dcc692;
$modal-backdrop-bg:             rgba(123,45,18,0.25);


//modal
.modal-content {
  border-radius: $modal-border-radius !important;
  background: $modal-content-bg !important;
  backdrop-filter: blur(12px) saturate(140%);
  box-shadow: $modal-box-shadow !important;
  border: 2px solid $modal-border-color !important;

  // text-align: center !important;
}

.modal-header, .modal-footer {
  background: rgba(248,235,216,0.9) !important;
}

.modal-header {
  border-bottom: 1.5px solid $modal-border-color !important;
  color: $primary !important;
  border-top-left-radius: $modal-border-radius !important;
  border-top-right-radius: $modal-border-radius !important;

  // text-align: center !important;
}

.modal-footer {
  border-top: 1.5px solid $modal-border-color !important;
  border-bottom-left-radius: $modal-border-radius !important;
  border-bottom-right-radius: $modal-border-radius !important;
}

.modal-title {
  color: $primary !important;
  font-weight: 700;
  letter-spacing: 1px;
}

// Glassmorphism Backdrop
// .modal-backdrop.show {
//   background-color: rgba(255, 253, 250, 0.15) !important;
//   backdrop-filter: blur(8px) !important;
// }


@keyframes backdrop-glass-in {
  from {
    background-color: rgba(255, 253, 250, .3);
    backdrop-filter: blur(0px);
  }
  to {
    background-color: rgba(98, 97, 96, 0.8);
    backdrop-filter: blur(10px);
  }
}


.modal-backdrop.show {
  animation: backdrop-glass-in 0.4s ease-out forwards !important;
}